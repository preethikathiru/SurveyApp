(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(22),r=a.n(i),s=(a(74),a(8)),c=a(9),o=a(11),u=a(10),d=a(12),m=a(137),p=a(134),h=a(29),b=a.n(h),f=a(23),v=a.n(f),g=function(e){e?v.a.defaults.headers.common.Authorization=e:delete v.a.defaults.headers.common.Authorization},E=function(e){return{type:"SET_CURRENT_USER",payload:e}},y=function(){return function(e){localStorage.removeItem("jwtToken"),g(!1),e(E({}))}},w=a(18),N=a(14),_=a(61),j=a(40),S=a(101),O={isAuthenticated:!1,user:{},loading:!1},x={},k=Object(N.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(j.a)({},e,{isAuthenticated:!S(t.payload),user:t.payload});case"USER_LOADING":return Object(j.a)({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}}}),q=[_.a],C=Object(N.e)(k,{},Object(N.d)(N.a.apply(void 0,q),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()||N.d)),D=a(135),J=a(136),R=a(132),M=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(D.a,{style:{background:"rgb(56, 165, 216)"}},l.a.createElement(D.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(J.a,{style:{background:"rgb(56, 165, 216)",padding:10}},l.a.createElement(J.a.Link,{href:"/",style:{fontFamily:"monospace"},className:"col s5 brand-logo center white-text"},"Survey"),localStorage.jwtToken?l.a.createElement(R.a,{style:{width:"120px",borderRadius:"3px",letterSpacing:"1.5px",background:"white",color:"black",marginLeft:10,float:"right"},onClick:this.onLogoutClick},"Logout"):l.a.createElement(R.a,{style:{width:"120px",borderRadius:"3px",letterSpacing:"1.5px",background:"white",color:"black",marginLeft:10,float:"right"},href:"/login"}," Login "),localStorage.jwtToken?l.a.createElement(R.a,{style:{width:"120px",borderRadius:"3px",letterSpacing:"1.5px",background:"white",color:"black",marginLeft:10,float:"right"},href:"/form"},"Form"):l.a.createElement(R.a,{style:{width:"120px",borderRadius:"3px",letterSpacing:"1.5px",background:"white",color:"black",marginLeft:10,float:"right"},href:"/register"},"Register"))))}}]),t}(l.a.Component),T=Object(w.b)(function(e){return{auth:e.auth}},{logoutUser:y})(M),A=(a(104),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={data:{}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/forms/get").then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({data:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return null!=this.state.data.data?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("table",{id:"responses"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{key:"userName"}," User Name "),this.state.data.data[0].totalResponse.map(function(e,t){return l.a.createElement("th",{key:e.identifier},e.headline.toUpperCase())})),this.state.data.data.map(function(e,t){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.submittedByName),e.totalResponse.map(function(e,t){return l.a.createElement("td",null,e.answer?e.answer:"-")}))})))):l.a.createElement("div",null)}}]),t}(n.Component)),B=a(21),L=a(133),U=a(138),I=a(4),P=a.n(I),F=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.setState(Object(B.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2};e.props.registerUser(a,e.props.history)},e.state={name:"",email:"",password:"",password2:"",errors:{}},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s8 offset-s2"},l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("h4",null,l.a.createElement("b",null,"Register")," Here")),l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.name,error:e.name,id:"name",type:"text",className:P()("",{invalid:e.name})}),l.a.createElement("label",{htmlFor:"name"},"Name"),l.a.createElement("span",{className:"red-text"},e.name)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:P()("",{invalid:e.email})}),l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("span",{className:"red-text"},e.email)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:P()("",{invalid:e.password})}),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("span",{className:"red-text"},e.password)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.password2,error:e.password2,id:"password2",type:"password",className:P()("",{invalid:e.password2})}),l.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),l.a.createElement("span",{className:"red-text"},e.password2)),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Sign up"),l.a.createElement("p",{className:"grey-text text-darken-1"},"Already have an account? ",l.a.createElement(L.a,{to:"/login"},"Log in")))))))}}]),t}(n.Component),W=Object(w.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){v.a.post("/api/users/register",e).then(function(e){return t.push("/login")}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(U.a)(F)),z=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.setState(Object(B.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};console.log(a),e.props.loginUser(a)},e.state={email:"",password:"",errors:{}},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{style:{marginTop:"4rem"},className:"row"},l.a.createElement("div",{className:"col s8 offset-s2"},l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("h4",null,l.a.createElement("b",null,"Login")," Here")),l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:P()("",{invalid:e.email||e.emailnotfound})}),l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("span",{className:"red-text"},e.email,e.emailnotfound)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:P()("",{invalid:e.password||e.passwordincorrect})}),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("span",{className:"red-text"},e.password,e.passwordincorrect)),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Login"),l.a.createElement("p",{className:"grey-text text-darken-1"},"Don't have an account? ",l.a.createElement(L.a,{to:"/register"},"Register")))))))}}]),t}(n.Component),K=Object(w.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){v.a.post("/api/users/login",e).then(function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),g(a);var n=b()(a);t(E(n))}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(z),H=a(42),G=a(26),V=a(41),X=a(35),Z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={values:[]},a.handleSubmit=a.handleSubmit.bind(Object(G.a)(Object(G.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e,t){var a=Object(H.a)(this.state.values);a[e]=t.target.value,this.setState({values:a})}},{key:"handlevalue",value:function(e,t){var a=Object(H.a)(this.state.values);a[e]=t,this.setState({values:a})}},{key:"handleSubmit",value:function(e){alert("submitted values"+this.state.values.join(",")),e.preventDefault()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h4",null,"Form: ",X.a.name," "),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("p",null,l.a.createElement("b",null,"Decsription - ",X.a.description))),l.a.createElement("form",{onSubmit:this.handleSubmit},X.a.questions.map(function(t,a){return"text"===t.question_type&&"false"===t.multiline?l.a.createElement("div",null,l.a.createElement("label",{for:t.identifier,style:{fontSize:"1rem",color:"blue",fontStyle:"oblique"}},t.headline),l.a.createElement("p",null,t.description?t.description:""),l.a.createElement("input",{type:"text",style:{width:"25rem"},id:t.identifier,name:t.identifier,placeholder:"Type your answer",onChange:e.handleChange.bind(e,a)})):"text"===t.question_type&&"true"===t.multiline?l.a.createElement("div",null,l.a.createElement("label",{for:t.identifier,style:{fontSize:"1rem",color:"blue"}},t.headline),l.a.createElement("p",null,t.description?t.description:""),l.a.createElement("textarea",{style:{width:"25rem",height:"10rem"},id:t.identifier,name:t.identifier,placeholder:"Type your answer",onChange:e.handleChange.bind(e,a)})):"multiple-choice"===t.question_type&&"false"===t.multiple?l.a.createElement("div",null,l.a.createElement("label",{for:t.identifier,style:{fontSize:"1rem",color:"blue"}},t.headline),l.a.createElement("p",null,t.description?t.description:""),l.a.createElement(V.RadioGroup,{onChange:e.handlevalue.bind(e,a),style:{width:"25rem",margin:"auto"}},t.choices.map(function(e,t){return l.a.createElement(V.RadioButton,{value:e.value,key:t,style:{width:"2rem",height:"1rem"}},e.value)}))):void 0}),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("button",{style:{width:"110px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem",marginBottom:"2rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"SUBMIT"))))}}]),t}(l.a.Component);if(localStorage.jwtToken){var $=localStorage.jwtToken;g($);var Q=b()($);C.dispatch(E(Q));var Y=Date.now()/1e3;Q.exp<Y&&(C.dispatch(y()),window.location.href="./login")}var ee=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(w.a,{store:C},l.a.createElement(m.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(T,null),l.a.createElement(p.a,{exact:!0,path:"/",component:A}),l.a.createElement(p.a,{exact:!0,path:"/register",component:W}),l.a.createElement(p.a,{exact:!0,path:"/login",component:K}),l.a.createElement(p.a,{exact:!0,path:"/form",component:Z}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})},35:function(e){e.exports={a:{id:40,identifier:"ewBzTS",name:"Privathaftpflichtversicherung",questions:[{question_type:"multiple-choice",identifier:"list_12110962",headline:"Wen m\xf6chtest Du versichern?",description:null,required:!1,multiple:"false",choices:[{label:"Meine Familie mit Kindern",value:"Meine Familie mit Kindern",selected:!1},{label:"Meine Familie ohne Kinder",value:"Meine Familie ohne Kinder",selected:!1},{label:"Mich ohne Kind",value:"Mich ohne Kind",selected:!1},{label:"Mich mit Kind",value:"Mich mit Kind",selected:!1},{label:"Mich und meinen Lebenspartner",value:"Mich und meinen Lebenspartner",selected:!1}],jumps:[]},{question_type:"multiple-choice",identifier:"list_12111610",headline:"Bist Du Beamter oder im \xf6ffentlichen Dienst angestellt?",description:null,required:!1,multiple:"false",choices:[{label:"Ja",value:"Ja",selected:!1},{label:"Nein",value:"Nein",selected:!1}],jumps:[]},{question_type:"multiple-choice",identifier:"list_12111777",headline:"M\xf6chtest Du eine Forderungsausfalldeckung absichern?",description:null,required:!1,multiple:"false",choices:[{label:"Ja",value:"Ja",selected:!1},{label:"Nein",value:"Nein",selected:!1}],jumps:[]},{question_type:"multiple-choice",identifier:"list_12110966",headline:"Wie wichtig ist Dir die Absicherung gegen Mietsachsch\xe4den?",description:null,required:!1,multiple:"false",choices:[{label:"Wichtig",value:"Wichtig",selected:!1},{label:"Unwichtig",value:"Unwichtig",selected:!1}],jumps:[]},{question_type:"multiple-choice",identifier:"list_12110967",headline:"Bist Du Eigent\xfcmer einer oder mehrerer Immobilien?",description:null,required:!1,multiple:"false",choices:[{label:"Ja",value:"Ja",selected:!1},{label:"Nein",value:"Nein",selected:!1}],jumps:[{conditions:[{field:"list_12110967",value:"Ja"}],destination:{id:"list_12110968"}},{conditions:[{field:"list_12110967",value:"Nein"}],destination:{id:"list_12111854"}}]},{question_type:"multiple-choice",identifier:"list_12110968",headline:"Geh\xf6rt Dir eine selbstbewohnte Immobilie?",description:null,required:!1,multiple:"false",choices:[{label:"Ja, im Inland",value:"Ja, im Inland",selected:!1},{label:"Ja, im Ausland",value:"Ja, im Ausland",selected:!1},{label:"Ja, im Inland und Ausland",value:"Ja, im Inland und Ausland",selected:!1},{label:"Nein",value:"Nein",selected:!1}],jumps:[]},{question_type:"multiple-choice",identifier:"list_13907264",headline:"Hast Du eine oder mehrere vermietete Immobilien?",description:null,required:!1,multiple:"false",choices:[{label:"Ja, im Inland",value:"Ja, im Inland",selected:!1},{label:"Ja, im Ausland",value:"Ja, im Ausland",selected:!1},{label:"Ja, im Inland und Ausland",value:"Ja, im Inland und Ausland",selected:!1},{label:"Nein",value:"Nein",selected:!1}],jumps:[]},{question_type:"multiple-choice",identifier:"list_12111854",headline:"M\xf6chtest Du in n\xe4chster Zeit etwas bauen oder umbauen?",description:null,required:!1,multiple:"false",choices:[{label:"Ja",value:"Ja",selected:!1},{label:"Nein",value:"Nein",selected:!1}],jumps:[]},{question_type:"multiple-choice",identifier:"list_12110972",headline:"Wie wichtig ist Dir die Absicherung gegen beruflichen Schl\xfcsselverlust?",description:null,required:!1,multiple:"false",choices:[{label:"Wichtig",value:"Wichtig",selected:!1},{label:"Unwichtig",value:"Unwichtig",selected:!1}],jumps:[]},{question_type:"multiple-choice",identifier:"list_13913438",headline:"M\xf6chtest Du den Verlust privater Schl\xfcssel absichern?",description:null,required:!1,multiple:"false",choices:[{label:"Ja",value:"Ja",selected:!1},{label:"Nein",value:"Nein",selected:!1}],jumps:[]},{question_type:"multiple-choice",identifier:"list_12110969",headline:"M\xf6chtest Du im Ausland abgesichert sein?",description:null,required:!1,multiple:"false",choices:[{label:"Ja, bis zu einem Monat",value:"Ja, bis zu einem Monat",selected:!1},{label:"Ja, mehrere Monate",value:"Ja, mehrere Monate",selected:!1},{label:"Nein",value:"Nein",selected:!1}],jumps:[]},{question_type:"multiple-choice",identifier:"list_12110970",headline:"Hast Du ein Segelboot?",description:null,required:!1,multiple:"false",choices:[{label:"Bis 4 m\xb2",value:"Bis 4 m\xb2",selected:!1},{label:"Bis 10 m\xb2",value:"Bis 10 m\xb2",selected:!1},{label:"Bis 15 m\xb2",value:"Bis 15 m\xb2",selected:!1},{label:"Bis 25 m\xb2",value:"Bis 25 m\xb2",selected:!1},{label:"Nein",value:"Nein",selected:!1}],jumps:[]},{question_type:"multiple-choice",identifier:"list_12110971",headline:"Hast Du ein Motorboot?",description:null,required:!1,multiple:"false",choices:[{label:"Bis 5 PS",value:"Bis 5 PS",selected:!1},{label:"Bis 10 PS",value:"Bis 10 PS",selected:!1},{label:"Bis 15 PS",value:"Bis 15 PS",selected:!1},{label:"Unbegrenzte PS",value:"Unbegrenzte PS",selected:!1},{label:"Nein",value:"Nein",selected:!1}],jumps:[]},{question_type:"multiple-choice",identifier:"list_12110965",headline:"M\xf6chtest Du bei einem Schadensfall einen Teil selbst bezahlen?",description:null,required:!1,multiple:"false",choices:[{label:"Nein",value:"Nein",selected:!1},{label:"Ja, bis 150 Euro",value:"Ja, bis 150 Euro",selected:!1}],jumps:[]},{question_type:"multiple-choice",identifier:"list_12111717",headline:"Hast Du aktuell schon eine Privathaftpflichtversicherung?",description:null,required:!1,multiple:"false",choices:[{label:"Ja",value:"Ja",selected:!1},{label:"Nein",value:"Nein",selected:!1}],jumps:[{conditions:[{field:"list_12111717",value:"Ja"}],destination:{id:"list_12111755"}},{conditions:[{field:"list_12111717",value:"Nein"}],destination:{id:"date_22039590"}}]},{question_type:"multiple-choice",identifier:"list_12111755",headline:"Wie viele Haftpflichtsch\xe4den hattest Du in den letzten 5 Jahren?",description:null,required:!1,multiple:"false",choices:[{label:"Keine",value:"Keine",selected:!1},{label:"1",value:"1",selected:!1},{label:"2",value:"2",selected:!1},{label:"3",value:"3",selected:!1},{label:"Mehr als 3",value:"Mehr als 3",selected:!1}],jumps:[]},{question_type:"text",identifier:"date_22039590",headline:"Was w\xe4re Dein Wunschtermin f\xfcr den Beginn der Privathaftpflichtversicherung?",description:null,required:!1,multiline:"false",jumps:[]},{question_type:"text",identifier:"textarea_12110979",headline:"Hast Du noch weitere Informationen oder Anmerkungen f\xfcr uns?",description:null,required:!1,multiline:"true",jumps:[]}],description:"Um Dein pers\xf6nliches Privathaftpflichtversicherungs-Angebot zu erstellen, ben\xf6tigen wir noch ein paar Informationen von Dir.",category_name_hyphenated:"Pri&shy;vat&shy;haft&shy;pflicht"}}},69:function(e,t,a){e.exports=a(128)},74:function(e,t,a){}},[[69,2,1]]]);
//# sourceMappingURL=main.8e4236a6.chunk.js.map